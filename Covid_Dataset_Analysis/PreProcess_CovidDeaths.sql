-- Step 1: Update all empty strings to NULL for numeric columns
UPDATE CovidDeaths SET total_cases = NULL WHERE total_cases = '' OR total_cases = '0' AND total_cases != 0;
UPDATE CovidDeaths SET new_cases = NULL WHERE new_cases = '' OR new_cases = '0' AND new_cases != 0;
UPDATE CovidDeaths SET new_cases_smoothed = NULL WHERE new_cases_smoothed = '';
UPDATE CovidDeaths SET total_deaths = NULL WHERE total_deaths = '' OR total_deaths = '0' AND total_deaths != 0;
UPDATE CovidDeaths SET new_deaths = NULL WHERE new_deaths = '' OR new_deaths = '0' AND new_deaths != 0;
UPDATE CovidDeaths SET new_deaths_smoothed = NULL WHERE new_deaths_smoothed = '';
UPDATE CovidDeaths SET total_cases_per_million = NULL WHERE total_cases_per_million = '';
UPDATE CovidDeaths SET new_cases_per_million = NULL WHERE new_cases_per_million = '';
UPDATE CovidDeaths SET new_cases_smoothed_per_million = NULL WHERE new_cases_smoothed_per_million = '';
UPDATE CovidDeaths SET total_deaths_per_million = NULL WHERE total_deaths_per_million = '';
UPDATE CovidDeaths SET new_deaths_per_million = NULL WHERE new_deaths_per_million = '';
UPDATE CovidDeaths SET new_deaths_smoothed_per_million = NULL WHERE new_deaths_smoothed_per_million = '';
UPDATE CovidDeaths SET reproduction_rate = NULL WHERE reproduction_rate = '';
UPDATE CovidDeaths SET icu_patients = NULL WHERE icu_patients = '';
UPDATE CovidDeaths SET icu_patients_per_million = NULL WHERE icu_patients_per_million = '';
UPDATE CovidDeaths SET hosp_patients = NULL WHERE hosp_patients = '';
UPDATE CovidDeaths SET hosp_patients_per_million = NULL WHERE hosp_patients_per_million = '';
UPDATE CovidDeaths SET weekly_icu_admissions = NULL WHERE weekly_icu_admissions = '';
UPDATE CovidDeaths SET weekly_icu_admissions_per_million = NULL WHERE weekly_icu_admissions_per_million = '';
UPDATE CovidDeaths SET weekly_hosp_admissions = NULL WHERE weekly_hosp_admissions = '';
UPDATE CovidDeaths SET weekly_hosp_admissions_per_million = NULL WHERE weekly_hosp_admissions_per_million = '';
UPDATE CovidDeaths SET new_tests = NULL WHERE new_tests = '';
UPDATE CovidDeaths SET total_tests = NULL WHERE total_tests = '';
UPDATE CovidDeaths SET total_tests_per_thousand = NULL WHERE total_tests_per_thousand = '';
UPDATE CovidDeaths SET new_tests_per_thousand = NULL WHERE new_tests_per_thousand = '';
UPDATE CovidDeaths SET new_tests_smoothed = NULL WHERE new_tests_smoothed = '';
UPDATE CovidDeaths SET new_tests_smoothed_per_thousand = NULL WHERE new_tests_smoothed_per_thousand = '';
UPDATE CovidDeaths SET positive_rate = NULL WHERE positive_rate = '';
UPDATE CovidDeaths SET tests_per_case = NULL WHERE tests_per_case = '';
UPDATE CovidDeaths SET total_vaccinations = NULL WHERE total_vaccinations = '';
UPDATE CovidDeaths SET people_vaccinated = NULL WHERE people_vaccinated = '';
UPDATE CovidDeaths SET people_fully_vaccinated = NULL WHERE people_fully_vaccinated = '';
UPDATE CovidDeaths SET new_vaccinations = NULL WHERE new_vaccinations = '';
UPDATE CovidDeaths SET new_vaccinations_smoothed = NULL WHERE new_vaccinations_smoothed = '';
UPDATE CovidDeaths SET total_vaccinations_per_hundred = NULL WHERE total_vaccinations_per_hundred = '';
UPDATE CovidDeaths SET people_vaccinated_per_hundred = NULL WHERE people_vaccinated_per_hundred = '';
UPDATE CovidDeaths SET people_fully_vaccinated_per_hundred = NULL WHERE people_fully_vaccinated_per_hundred = '';
UPDATE CovidDeaths SET new_vaccinations_smoothed_per_million = NULL WHERE new_vaccinations_smoothed_per_million = '';
UPDATE CovidDeaths SET population = NULL WHERE population = '';
UPDATE CovidDeaths SET population_density = NULL WHERE population_density = '';
UPDATE CovidDeaths SET median_age = NULL WHERE median_age = '';
UPDATE CovidDeaths SET aged_65_older = NULL WHERE aged_65_older = '';
UPDATE CovidDeaths SET aged_70_older = NULL WHERE aged_70_older = '';
UPDATE CovidDeaths SET gdp_per_capita = NULL WHERE gdp_per_capita = '';
UPDATE CovidDeaths SET extreme_poverty = NULL WHERE extreme_poverty = '';
UPDATE CovidDeaths SET cardiovasc_death_rate = NULL WHERE cardiovasc_death_rate = '';
UPDATE CovidDeaths SET diabetes_prevalence = NULL WHERE diabetes_prevalence = '';
UPDATE CovidDeaths SET female_smokers = NULL WHERE female_smokers = '';
UPDATE CovidDeaths SET male_smokers = NULL WHERE male_smokers = '';
UPDATE CovidDeaths SET hospital_beds_per_thousand = NULL WHERE hospital_beds_per_thousand = '';
UPDATE CovidDeaths SET life_expectancy = NULL WHERE life_expectancy = '';
UPDATE CovidDeaths SET human_development_index = NULL WHERE human_development_index = '';

-- Step 2: Modify column data types to appropriate numeric types
-- Large integer values (cases, deaths, tests, vaccinations, population)
ALTER TABLE CovidDeaths MODIFY total_cases BIGINT;
ALTER TABLE CovidDeaths MODIFY new_cases BIGINT;
ALTER TABLE CovidDeaths MODIFY total_deaths BIGINT;
ALTER TABLE CovidDeaths MODIFY new_deaths BIGINT;
ALTER TABLE CovidDeaths MODIFY icu_patients INT;
ALTER TABLE CovidDeaths MODIFY hosp_patients INT;
ALTER TABLE CovidDeaths MODIFY weekly_icu_admissions INT;
ALTER TABLE CovidDeaths MODIFY weekly_hosp_admissions INT;
ALTER TABLE CovidDeaths MODIFY new_tests BIGINT;
ALTER TABLE CovidDeaths MODIFY total_tests BIGINT;
ALTER TABLE CovidDeaths MODIFY total_vaccinations BIGINT;
ALTER TABLE CovidDeaths MODIFY people_vaccinated BIGINT;
ALTER TABLE CovidDeaths MODIFY people_fully_vaccinated BIGINT;
ALTER TABLE CovidDeaths MODIFY new_vaccinations BIGINT;
ALTER TABLE CovidDeaths MODIFY new_vaccinations_smoothed BIGINT;
ALTER TABLE CovidDeaths MODIFY population BIGINT;

-- Decimal values (rates, percentages, per capita measures)
ALTER TABLE CovidDeaths MODIFY new_cases_smoothed DECIMAL(12,2);
ALTER TABLE CovidDeaths MODIFY new_deaths_smoothed DECIMAL(10,2);
ALTER TABLE CovidDeaths MODIFY total_cases_per_million DECIMAL(10,2);
ALTER TABLE CovidDeaths MODIFY new_cases_per_million DECIMAL(10,2);
ALTER TABLE CovidDeaths MODIFY new_cases_smoothed_per_million DECIMAL(10,2);
ALTER TABLE CovidDeaths MODIFY total_deaths_per_million DECIMAL(10,2);
ALTER TABLE CovidDeaths MODIFY new_deaths_per_million DECIMAL(8,2);
ALTER TABLE CovidDeaths MODIFY new_deaths_smoothed_per_million DECIMAL(8,2);
ALTER TABLE CovidDeaths MODIFY reproduction_rate DECIMAL(5,2);
ALTER TABLE CovidDeaths MODIFY icu_patients_per_million DECIMAL(8,2);
ALTER TABLE CovidDeaths MODIFY hosp_patients_per_million DECIMAL(8,2);
ALTER TABLE CovidDeaths MODIFY weekly_icu_admissions_per_million DECIMAL(8,2);
ALTER TABLE CovidDeaths MODIFY weekly_hosp_admissions_per_million DECIMAL(8,2);
ALTER TABLE CovidDeaths MODIFY total_tests_per_thousand DECIMAL(10,2);
ALTER TABLE CovidDeaths MODIFY new_tests_per_thousand DECIMAL(8,2);
ALTER TABLE CovidDeaths MODIFY new_tests_smoothed DECIMAL(12,2);
ALTER TABLE CovidDeaths MODIFY new_tests_smoothed_per_thousand DECIMAL(8,2);
ALTER TABLE CovidDeaths MODIFY positive_rate DECIMAL(6,4);
ALTER TABLE CovidDeaths MODIFY tests_per_case DECIMAL(8,2);
ALTER TABLE CovidDeaths MODIFY total_vaccinations_per_hundred DECIMAL(8,2);
ALTER TABLE CovidDeaths MODIFY people_vaccinated_per_hundred DECIMAL(8,2);
ALTER TABLE CovidDeaths MODIFY people_fully_vaccinated_per_hundred DECIMAL(8,2);
ALTER TABLE CovidDeaths MODIFY new_vaccinations_smoothed_per_million DECIMAL(10,2);
ALTER TABLE CovidDeaths MODIFY population_density DECIMAL(10,2);
ALTER TABLE CovidDeaths MODIFY median_age DECIMAL(4,1);
ALTER TABLE CovidDeaths MODIFY aged_65_older DECIMAL(5,2);
ALTER TABLE CovidDeaths MODIFY aged_70_older DECIMAL(5,2);
ALTER TABLE CovidDeaths MODIFY gdp_per_capita DECIMAL(12,2);
ALTER TABLE CovidDeaths MODIFY extreme_poverty DECIMAL(5,2);
ALTER TABLE CovidDeaths MODIFY cardiovasc_death_rate DECIMAL(8,2);
ALTER TABLE CovidDeaths MODIFY diabetes_prevalence DECIMAL(5,2);
ALTER TABLE CovidDeaths MODIFY female_smokers DECIMAL(5,2);
ALTER TABLE CovidDeaths MODIFY male_smokers DECIMAL(5,2);
ALTER TABLE CovidDeaths MODIFY hospital_beds_per_thousand DECIMAL(6,2);
ALTER TABLE CovidDeaths MODIFY life_expectancy DECIMAL(5,2);
ALTER TABLE CovidDeaths MODIFY human_development_index DECIMAL(5,3);
